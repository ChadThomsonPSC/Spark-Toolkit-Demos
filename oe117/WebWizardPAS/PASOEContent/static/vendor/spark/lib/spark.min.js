/*
 Progress Software 2015-2017
 @license Apache-2.0
*/
(function(d,f,a,b){if(d&&f&&a&&"undefined"===typeof b.spark){var c=null,e=null,g=null,h=null,m={id:"",filterQuery:"",data:{},success:!1,error:!1},l=null;b.spark={version:"v4.1.1 (2017.10.03.100340)",field:{},form:{},grid:{},loader:{},nav:{},notify:{},strings:{},jsdoError:function(a){var c=((a.xhr||{}).jsdo||{getErrors:function(){return[]}}).getErrors(),e=[];d.each(c,function(b,a){switch(a.type){case -1:var c=null;if(a.responseText)try{c=JSON.parse(a.responseText||"")}catch(q){console.log("Error while parsing response: "+
a.responseText||"N/A")}c&&"object"===typeof c?d.each(c,function(a,b){b["prods:errors"]&&d.each(b["prods:errors"],function(a,b){d.each(b,function(a,b){e.push(b["prods:error"])})})}):e.push(a.error);break;case -2:e.push(a.error+" ("+a.errorNum+")");break;case -3:e.push(a.error);break;case -4:e.push(a.error);break;default:console.log("Unknown error:",a)}});0===e.length&&""!==a.errorThrown&&e.push(a.errorThrown);0<e.length&&(console.warn("Errors: ",e),b.app&&b.app.showMessage?b.app.showMessage(e,"error"):
alert(e[0]));a.preventDefault();return!1},jsdoFailure:function(a,c,e){if(e.xhr&&401===e.xhr.status||403===e.xhr.status)b.spark.jsdoAuthError?b.spark.jsdoAuthError(e):alert("Session has expired. Please login again.");else if(e.response&&e.response._errors&&0<e.response._errors.length){a="";var g=e.response._errors.length,k;for(c=0;c<g;c+=1)k=e.response._errors[c]||{},a=a+" "+k._errorMsg||"UNKNOWN";""!==d.trim(a)&&console.warn(a)}},checkAuthentication:function(b,d){h||(h=new a.data.AuthenticationProvider({uri:b,
authenticationModel:d||a.data.Session.AUTH_TYPE_ANON}));var g=c||"anonymous",k=e||"anonymous";return h.hasClientCredentials()?h.logout().then(function(){return h.login(g,k)}):h.login(g,k)},createSession:function(k,n,m,f){g||(l||(f?l=f:this.setSessionName(k)),h||(h=new a.data.AuthenticationProvider({uri:k,authenticationModel:m||a.data.Session.AUTH_TYPE_ANON})),g=new a.data.JSDOSession({authenticationModel:m||a.data.Session.AUTH_TYPE_ANON,authProvider:h,serviceURI:k||null,name:l||"JSDOSession_Default"}));
if(n)return g.loginResult===a.data.Session.LOGIN_SUCCESS?g.isAuthorized().then(function(a,c,d){return b.spark.loadCatalogs(n)},function(a,c,d){return b.spark.loadCatalogs(n)}):h.login(c||"anonymous",e||"anonymous").then(function(a,c,d){return b.spark.loadCatalogs(n)},function(){return"Unable to reach the REST adapter to establish a session."});k=d.Deferred();k.resolve("No catalog(s) requested.");return k},loadCatalogs:function(a){g.catalogLoaded={};"string"==typeof a?g.catalogLoaded[a]=!1:a instanceof
Array&&d.each(a,function(a,b){g.catalogLoaded[b]=!1});return g.addCatalog(a).then(function(a,b,c){d.each(c,function(a,b){g.catalogLoaded[b.catalogURI]=b.result?!0:!1});return c},function(a,b,c){console.log("Response:",c);return"Failed to load catalog(s)."})},createJSDO:function(b){var c=null;d.each(g.JSDOs,function(a,d){d.name===b&&(c=d)});return c||new a.data.JSDO({name:b})},getMessages:function(a){a.response&&(a=a.response);return a&&a._errors&&0<a._errors.length?a._errors||!1:!1},showMessage:function(a,
b){var c=a._errorMsg||"",d;switch(a._errorType.toLowerCase()){case "error":case "fatal":case "trace":d="error";break;case "validation":case "warning":d="warning";break;default:d="info"}""!==c&&d&&b&&b(c,d)},setCredentials:function(a,b){c=a||null;e=b||null},setSessionName:function(a){l=a.replace(/\//g,"");""===l&&(l="Root");return l="JSDOSession_"+l},clone:function(a,b){return d.extend(!0,{},a,b)},toProperCase:function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},
getJsdoSession:function(){return g},getMergedOptions:function(a){return this.clone(m,a)},getQueryStringValue:function(a){var c=b.location.search;""===c&&(c=b.location.href);return unescape(c.replace(new RegExp("^(?:.*[&\\?]"+escape(a).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},createJSDODataSource:function(a,c){var e=b.spark.createJSDO(a);c.onBeforeFill&&e.subscribe("beforeFill",c.onBeforeFill);c.onAfterSaveChanges&&e.subscribe("afterSaveChanges",c.onAfterSaveChanges);var g=e.getMethodProperties("read"),
h=[];g&&g.capabilities&&(h=g.capabilities.split(","));e={serverFiltering:-1<h.indexOf("filter"),serverPaging:-1<h.indexOf("skip")&&-1<h.indexOf("top"),serverSorting:-1<h.indexOf("orderBy")||-1<h.indexOf("sort"),transport:{jsdo:e},type:"jsdo",error:b.spark.jsdoError};c.tableRef&&(e.transport.tableRef=c.tableRef,delete c.tableRef);var m=new f.data.DataSource(d.extend(e,c)),l=[];m.getFieldSchema=function(a){if(0===l.length){var b=(m.transport||{}).jsdo||null;l=b?b.getSchema():[]}return d.grep(l,function(b){return b.title==
a})[0]||{}};return m},jsdo_read:function(a,c){var d=null,d=c.filterQuery||"",d=""===d?a.fill():a.fill(d);d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);return d},jsdo_create:function(a,c){a.add(c.data);var d=a.saveChanges(c.useSubmit);d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);return d},jsdo_update:function(a,c){var d={},d=c.tableRef&&a[c.tableRef]?a[c.tableRef].findById(c.id):a.findById(c.id);try{d.assign(c.data)}catch(p){c.error(null,null,p)}d=a.saveChanges(c.useSubmit);d.done(function(a,
b,c){}).fail(b.spark.jsdoFailure);return d},jsdo_delete:function(a,c){var d=a.findById(c.id);try{d.remove()}catch(p){c.error(null,null,p)}d=a.saveChanges(c.useSubmit);d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);return d}}}})(window.jQuery,window.kendo,window.progress,window);
(function(d,f){d&&f&&"undefined"!==typeof window.spark&&(window.spark=d.extend(window.spark,{getUrlParams:function(){var a={},b=location.search.substring(1);b&&(a=b.replace(/&/g,'","').replace(/=/g,'":"'),a=JSON.parse('{"'+a+'"}',function(a,b){return""===a?b:decodeURIComponent(b)}));return a},clearPersistentObject:function(a){var b=window.localStorage||null;b&&b.clearObject?b.clearObject(a):b?delete b[a]:window.spark.setCookie(a,"");return!0},setPersistentObject:function(a,b){var c=window.localStorage||
null;c&&c.getObject?c.setObject(a,b):c?c[a]=JSON.stringify(b):window.spark.setCookie(a,JSON.stringify(b));return!0},getPersistentObject:function(a){var b="",c=window.localStorage||null;if(c&&c.getObject)return c.getObject(a);if(c){if(a=c[a],"string"===typeof a)try{b=JSON.parse(a)}catch(e){}}else if(a=window.spark.getCookie(a),"string"===typeof a)try{b=JSON.parse(a)}catch(e){}return b},clearSessionObject:function(a){var b=window.sessionStorage||null;b&&b.clearObject?b.clearObject(a):b&&delete b[a];
return!1},setSessionObject:function(a,b){var c=!1,d=window.sessionStorage||null;d&&d.getObject?(d.setObject(a,b),c=!0):d&&(d[a]=JSON.stringify(b),c=!0);return c},getSessionObject:function(a){var b="",c=window.sessionStorage||null;if(c&&c.getObject)b=c.getObject(a);else if(c){var d=c[a];"string"===typeof c[a]&&(b=JSON.parse(d))}return b},getCookie:function(a){a+="=";var b,c=document.cookie.split(";"),d;for(b=0;b<c.length;b+=1){for(d=c[b];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,
d.length)}return""},setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*(c||1));c="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+c+"; path=/"},getToday:function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)},getDateByDays:function(a){if("number"==typeof a&&0!=a){var b=new Date;a=b.setDate(b.getDate()+a);return new Date(a)}return new Date},getDateByWeeks:function(a){if("number"==typeof a&&0!=a){var b=new Date,c=this.getDateByDays(-1*b.getDay()),
c=b.setDate(c.getDate()+7*a);return new Date(c)}return new Date},getTemplate:function(a,b){if(d(a).length){var c=f.template(d(a).html());return b?c(b):c}return null}}));window.Storage&&(Storage.prototype.clearObject=function(a){this.removeItem&&this.removeItem(a)},Storage.prototype.getObject=function(a){return this.getItem?JSON.parse(this.getItem(a)):""},Storage.prototype.setObject=function(a,b){if(this.setItem)try{var c=JSON.stringify(b);this.setItem(a,c)}catch(e){console.warn("Unable to store peristent object in DOM: "+
e),console.warn("An error was encountered while storing data to the browser. Please view the ISC logs for details.")}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.loader={loadExtScreen:function(a,b,c){return d.ajax({dataType:"script",url:a+".js",success:function(c){return d.ajax({dataType:"html",url:a+".html",success:function(a){f.destroy(d("#"+b).children());d("#"+b).empty();d("#"+b).html(a)},error:function(b){alert("Error loading HTML file "+a+".html")}})},error:function(b){alert("Error loading JavaScript file "+a+".js")}})},loadExtInclude:function(a,b,c,e){return d.ajax({dataType:"html",url:a,success:function(a){f.destroy(d("#"+
b).children());d("#"+b).empty();d("#"+b).html(a);d("[data-toggle=tooltip]").tooltip()},error:function(b){alert("Error loading template file "+a)}})},loadExtTemplate:function(a,b,c,e){return d.ajax({dataType:"html",url:a,success:function(a){d("#"+b).append(a);a=f.template(d("#"+c).html())(e||{});f.destroy(d("#"+b).children());d("#"+b).empty();d("#"+b).html(a)},error:function(b){alert("Error loading template file "+a)}})}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.field={lookupTextField:"name",lookupValueField:"value",USStateList:"AL AK AS AZ AR CA CO CT DE DC FM FL GA GU HI ID IL IN IA KS KY LA ME MH MD MA MI MN MS MO MP MT NE NV NH NJ NM NY NC ND OH OK OR PW PA PR RI SC SD TN TX UT VT VI VA WA WV WI WY".split(" "),getSelectedRecord:function(a){try{if(a.dataSource&&a.select){var b=a.dataSource.data();if(-1<a.select()&&0<b.length)return b[a.select()]}}catch(c){}return{}},createDatePicker:function(a,b){var c=
d(a);if(c.length){var e=(((f.cultures.current||{}).calendar||{}).patterns||{}).d||"MM/dd/yyyy";return c.kendoDatePicker(d.extend({format:e,parseFormats:[e,"MM/dd/yyyy","MM/dd/yy","yyyy-MM-dd"]},b)).getKendoDatePicker()}return null},createDatePickerMDY:function(a,b){var c=d(a);return c.length?c.kendoDatePicker(d.extend({format:"MM/dd/yyyy",parseFormats:["MM/dd/yyyy","MM/dd/yy","yyyy-MM-dd"]},b)).getKendoDatePicker():null},createFormattedField:function(a,b){var c=d(a);return c.length?c.kendoMaskedTextBox(d.extend({mask:b.mask||
null},b)).getKendoMaskedTextBox():null},createFormattedPhone:function(a,b){var c=d(a);return c.length?c.kendoMaskedTextBox(d.extend({mask:"(000) 000-0000"},b)).getKendoMaskedTextBox():null},createFormattedSSN:function(a,b){var c=d(a);return c.length?c.kendoMaskedTextBox(d.extend({mask:"000-00-0000"},b)).getKendoMaskedTextBox():null},createMultiLookup:function(a,b){var c=d(a);return c.length?c.kendoMultiSelect(d.extend({autoClose:!1,dataSource:new f.data.DataSource,dataTextField:window.spark.field.lookupTextField,
dataValueField:window.spark.field.lookupValueField,suggest:!0,valuePrimitive:!0},b)).getKendoMultiSelect():null},createSimpleLookup:function(a,b){var c=d(a);return c.length?!0===b.multiple?c.kendoMultiSelect(d.extend({autoClose:!1,dataSource:[],suggest:!0,valuePrimitive:!0},b)).getKendoMultiSelect():c.kendoDropDownList(d.extend({dataSource:[],suggest:!0,valuePrimitive:!0},b)).getKendoDropDownList():null},createSingleLookup:function(a,b){var c=d(a);return c.length?c.kendoDropDownList(d.extend({dataSource:new f.data.DataSource,
dataTextField:window.spark.field.lookupTextField,dataValueField:window.spark.field.lookupValueField,suggest:!0,valuePrimitive:!0},b)).getKendoDropDownList():null},createUSStateList:function(a,b){var c=d(a);return c.length?c.kendoDropDownList(d.extend({dataSource:window.spark.field.USStateList,optionLabel:"Select",valuePrimitive:!0},b)).getKendoDropDownList():null},createInvokeLookup:function(a,b){var c=d(a);if(c.length){var e=null,e=!0===b.multiple?c.kendoMultiSelect(d.extend({autoClose:!1,dataSource:new f.data.DataSource,
filter:"contains",suggest:!0,valuePrimitive:!0},b)).getKendoMultiSelect():c.kendoDropDownList(d.extend({dataSource:new f.data.DataSource,filter:"contains",valuePrimitive:!0},b)).getKendoDropDownList();if(!b.invokeResource)return console.log("Resource name was not specified for invoke lookup:",a),e;e&&b.invokeResource&&(e._jsdo=window.spark.createJSDO(b.invokeResource),b.invokeMethod?(e.fetchData=function(a){return e._jsdo.invoke(b.invokeMethod,a||{}).done(function(a,c,d){a=d.response||{};b.invokeDataProperty?
e.dataSource.data(a[b.invokeDataProperty]||[]):e.dataSource.data(a)})},void 0!=b.autoBind&&!0!==b.autoBind||e.fetchData(b.params||null)):(e.fetchData=function(a){console.log("Method is not currently configured for use.")},console.log("No method name provided for invoke lookup:",a)));return e}return null},createResourceLookup:function(a,b){if(!b.resourceName)return console.log("Resource name was not specified for resource lookup:",a),null;var c=d(a);if(c.length){var e={transport:{jsdo:window.spark.createJSDO(b.resourceName)},
type:"jsdo"};delete b.resourceName;var g=e.transport.jsdo.getMethodProperties("read");g&&g.capabilities&&(e.serverFiltering=-1<(g.capabilities||"").indexOf("filter"),e.serverPaging=-1<(g.capabilities||"").indexOf("top"),e.serverSorting=-1<(g.capabilities||"").indexOf("sort"));b.resourceTable&&(e.transport.tableRef=b.resourceTable,delete b.resourceTable);b.dataValueField&&(e.sort={field:b.dataValueField,dir:"asc"});b.filter&&(e.filter=b.filter,delete b.filter);return c.kendoDropDownList(d.extend({dataSource:new f.data.DataSource(e),
filter:"contains",suggest:!0,valuePrimitive:!0},b)).getKendoDropDownList()}return null},createResourceAutoComplete:function(a,b){var c=d(a);if(c.length){if(!b.resourceName)return console.log("Resource name was not specified for resource auto-complete:",a),null;var e={transport:{jsdo:window.spark.createJSDO(b.resourceName)},type:"jsdo",requestStart:function(a){var b=(this.filter()||{}).filters||[];if(0===b.length||""==(b[0]||{}).value)return a.preventDefault(),!1;if(1<b.length)return a.sender.filter(b[0]),
a.preventDefault(),!1}};delete b.resourceName;var g=e.transport.jsdo.getMethodProperties("read");g&&g.capabilities&&(e.serverFiltering=-1<(g.capabilities||"").indexOf("filter"),e.serverPaging=-1<(g.capabilities||"").indexOf("top"),e.serverSorting=-1<(g.capabilities||"").indexOf("sort"));b.pageSize&&(e.pageSize=b.pageSize,delete b.pageSize);b.resourceTable&&(e.transport.tableRef=b.resourceTable,delete b.resourceTable);b.dataValueField&&(e.sort={field:b.dataValueField,dir:"asc"});b.dataSourceOptions&&
(e=d.extend(e,b.dataSourceOptions),delete b.dataSourceOptions);return c.kendoAutoComplete(d.extend({dataSource:new f.data.DataSource(e),delay:400,filter:"startsWith",minLength:2,virtual:!0,change:function(a){},filtering:function(a){a=a.filter;b.filterField&&(a.field=b.filterField);return a}},b)).getKendoAutoComplete()}return null},addKeypressEvent:function(a,b){var c=null,e=d(a);return e.length?(b.onInvalidKey||(b.onInvalidKey=function(a){a&&a.preventDefault();return!1}),e.keypress(function(a){if(0!==
a.which){var d=String.fromCharCode(a.which);if(a.which===f.keys.BACKSPACE)clearTimeout(c),c=setTimeout(b.onValidKey,b.delay||400);else if(a.which===f.keys.ENTER)clearTimeout(c),c=setTimeout(b.onEnter,b.delay||400);else if(d.match(b.filter||/.*/))clearTimeout(c),c=setTimeout(b.onValidKey,b.delay||400);else return b.onInvalidKey.apply(this,[a])}}),e.keyup(function(a){a.which===f.keys.DELETE&&(clearTimeout(c),c=setTimeout(b.onValidKey,b.delay||400))}),!0):!1}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.form={doOnEnter:function(a,b,c){a=d(a);if(a.length)a.on("keypress",function(a){13===(a.keyCode?a.keyCode:a.which)&&b&&"function"===typeof b&&setTimeout(function(){b.apply(c||this,[a])},20)})},doOnSubmit:function(a,b,c){a=d(a);if(a.length)a.on("submit",function(a){a.preventDefault();b&&"function"===typeof b&&b.apply(c||this,[a])})},getValidator:function(a,b){var c=d(a);return c.length?c.getKendoValidator()&&!b?c.getKendoValidator():c.kendoValidator(d.extend({},
b)).getKendoValidator():null},reset:function(a,b){var c=d(a);if(c.length){var e=window.spark.form.getValidator(a,b);e&&(c[0]&&c[0].reset&&c[0].reset(),e.hideMessages())}},validate:function(a,b){var c=window.spark.form.getValidator(a,b);return c&&c.validate?c.validate():!1},getErrors:function(a){return(a=window.spark.form.getValidator(a,{}))&&a.errors?a.errors():[]},translateForm:function(a,b,c){var e=d(a+" input");d.each(e,function(a,c){var e=d(c).attr("required"),g=d(c).attr("data-required-msg");
g&&""!==g&&d(c).attr("data-required-msg",b(g));var h=d(c).attr("placeholder");h&&""!==h&&(d(c).attr("placeholder",b(h)),e&&!g&&(g=h+" is required",d(c).attr("data-required-msg",b(g))));var f=d(c).attr("name");f&&""!==f&&(f=f.replace(/([A-Z])/g," $1").trim(),f=f.replace(/^./,function(a){return a.toUpperCase()}),h||d(c).attr("placeholder",b(f)),g=d(c).attr("data-required-msg"),e&&!g&&(g=f+" is required",d(c).attr("data-required-msg",b(g))))});e=d(a+" textarea");d.each(e,function(a,c){var e=d(c).attr("required"),
g=d(c).attr("data-required-msg");g&&""!==g&&d(c).attr("data-required-msg",b(g));var f=d(c).attr("placeholder");f&&""!==f&&(d(c).attr("placeholder",b(f)),e&&!g&&(g=f+" is required",d(c).attr("data-required-msg",b(g))));var h=d(c).attr("name");h&&""!==h&&(h=h.replace(/([A-Z])/g," $1").trim(),h=h.replace(/^./,function(a){return a.toUpperCase()}),f||d(c).attr("placeholder",b(h)),g=d(c).attr("data-required-msg"),e&&!g&&(g=h+" is required",d(c).attr("data-required-msg",b(g))))});e=d(a+" label");d.each(e,
function(e,f){var g=d(f).attr("for");if(g&&(d(f).html(b(d(f).html())),c&&c.showRequiredIndicator)){var h=d(a+" input[name="+g+"]");h.length||(h=d(a+" textarea[name="+g+"]"));h.length&&d(h).attr("required")&&d(f).prepend('<span class="text-danger m-r-xxs">'+(c.requiredIndicator||"*")+"</span>")}if(g=d(f).attr("help"))g=d('<i class="fa fa-question-circle m-l-xs" data-container="body" data-placement="top"data-toggle="popover" data-trigger="hover" data-content="'+b(g)+'"></i>'),d(f).append(g)});d("[data-toggle=popover]").popover()}})})(window.jQuery,
window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.grid={getSelectedRecord:function(a,b){if(b){var c=d(a.target).closest("tr");return b.dataItem(c)}return(b=a.sender)?b.dataItem(b.select()):{}},getViewState:function(a){return a?{columns:a.columns||[],filter:a.dataSource.filter(),group:a.dataSource.group(),sort:a.dataSource.sort()}:{columns:null,filter:null,group:null,sort:null}},onChange:function(a){return function(b){var c=this.select();b=d.map(c,function(a){return d(a).text()});c=this.columns[c[0].cellIndex];a.callback&&
"function"===typeof a.callback&&a.callback(b,c);return a.returnVal||!1}},createReadOnlyEditor:function(){return function(a,b){a.text(b.model[b.field])}},createDatePickerEditor:function(a){return function(b,c){c.sparkEditor=window.spark.field.createDatePicker(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},20)}},createFormattedFieldEditor:function(a){return function(b,c){c.sparkEditor=window.spark.field.createFormattedField(d('<input data-bind="value:'+
c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},20)}},createMultiLookup:function(a){return function(b,c){c.sparkEditor=window.spark.field.createMultiLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){var a=c.model[c.field]||c.model.defaults[c.field];"string"===typeof a&&-1<a.indexOf(",")&&(a=a.split(","));c.sparkEditor.value(a)},20)}},createSimpleLookupEditor:function(a){return function(b,c){c.sparkEditor=
window.spark.field.createSimpleLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},20)}},createSingleLookupEditor:function(a){return function(b,c){c.sparkEditor=window.spark.field.createSingleLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},20)}},createInvokeLookupEditor:function(a){return function(b,
c){c.sparkEditor=window.spark.field.createInvokeLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a)}}})})(window.jQuery,window.kendo);
(function(d){d&&window.spark&&(window.spark.io={addExtensionClass:function(d){switch(d){case ".jpg":case ".img":case ".png":case ".gif":return"fa fa-file-image-o fa-3x";case ".doc":case ".docx":return"fa fa-file-word-o fa-3x";case ".xls":case ".xlsx":return"fa fa-file-excel-o fa-3x";case ".pdf":return"fa fa-file-pdf-o fa-3x";case ".zip":case ".rar":return"fa fa-file-zip-o fa-3x";default:return"fa fa-file-o fa-3x"}},createUpload:function(f,a,b){return(f=d(f))?f.kendoUpload(d.extend({async:{autoUpload:a.autoUpload||
!1,batch:a.batchUpload||!1,saveUrl:a.saveUrl||"upload",saveField:a.saveField||"files"},enabled:a.enableUpload||!1,multiple:a.multiUpload||!1,showFileList:a.showFileList||!1,template:a.template||null,cancel:a.onCancel||null,complete:a.onComplete||null,error:a.onError||null,progress:a.onProgress||null,success:a.onSuccess||null,upload:a.onUpload||null,select:a.onSelect||null,remove:a.onRemove||null},b)).getKendoUpload():null}})})(window.jQuery);
(function(d,f){d&&f&&window.spark&&(window.spark.nav={createSimpleRouter:function(a){function b(b,c,d,f){window.spark.loader.loadExtScreen(c,a.mainContentID,b).complete(function(){if(a.onLoad&&"function"===typeof a.onLoad)a.onLoad(b,c,d,f)})}a||(a={});a.mainContentID&&""!==a.mainContentID||(a.mainContentID="mainContent");var c=new f.Router({change:a.onChange||function(a){}});c.loggedIn=!1;c.menuData=[];c.isSecurePage=function(a){var b=!1;d.each(this.menuData||[],function(c,e){e.items&&d.each(e.items,
function(c,d){d.url==a&&(b=!0===d.secure)})});return b};c.route("/",function(){var e=d.Deferred();a.getLandingPage?e=a.getLandingPage():e.resolve("");e.done(function(d){if((d||"").startsWith("#/"))c.navigate(d);else if(""!==(d||"")){var e=a.filePathPrefix+d;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(b,d,e);else b(d,e)}else if(a.onLoad&&"function"===typeof a.onLoad)a.onLoad("")})});c.route("/logout",function(){window.spark.getJsdoSession().logout().then(function(){if(a.onLogout)a.onLogout()})});
c.route("/:page",function(c){var d=a.filePathPrefix+c;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(b,c,d);else b(c,d)});c.route("/:sec/:page",function(c,d){var e=a.filePathPrefix+c+"/"+d;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(b,d,e,c);else b(d,e,c)});c.route("/:sec/:sub/:page",function(c,d,f){var e=a.filePathPrefix+c+"/"+d+"/"+f;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(b,f,e,c,d);else b(f,e,c,d)});return c},createVerticalStackMenu:function(a,
b){var c=d(a);if(c){c.empty();var e=d('<nav class="nav-primary hidden-xs" data-ride="collapse" role="navigation"></nav>'),g=d('<ul class="nav" data-ride="collapse"></ul>');"object"===typeof b&&d.each(b,function(a,b){var c="";window.app&&window.app.currentPage.path&&""!=window.app.currentPage.path&&(c="#"+window.app.currentPage.path.replace("app/views",""));var e=d('<a href="javascript:void(0)" class="auto nav-link"></a>');b.icon?e.append(d('<i class="fa '+b.icon+' m-r-xs"></i>')):b.spriteCssClass&&
e.append(d('<i class="'+b.spriteCssClass+' m-r-xs"></i>'));var f=d('<li class="nav-item"></li>');e.append(d("<span>"+b.text+"</span>"));f.append(e);var h=d('<ul class="nav dker"></ul>');"object"===typeof b.items&&d.each(b.items,function(a,b){var e=d('<a class="nav-link"></a>');e.attr("href",b.url);0===b.url.indexOf("http")&&e.attr("target","_blank");var g=d('<li class="nav-item"></li>');g.append(e.text(b.text));h.append(g);""!=c&&c==b.url&&(f.addClass("active"),e.addClass("active"))});f.append(h);
g.append(f)});e.append(g);c.append(e)}else console.info("No menu element has been defined.");d(document).on("click",".nav-primary a",function(a){var b=d(a.target),c;b.is("a")||(b=b.closest("a"));d(".nav-vertical").length||((c=b.parent().siblings(".active"))&&c.find("> a").toggleClass("active")&&c.toggleClass("active").find("> ul:visible").slideUp(200),b.hasClass("active")&&b.next().slideUp(200)||b.next().slideDown(200),b.toggleClass("active").parent().toggleClass("active"),b.next().is("ul")&&a.preventDefault(),
setTimeout(function(){d(document).trigger("updateNav")},300))})}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.notify={setNotificationArea:function(a,b){var c=null,e=d(a);e.length&&(c=e.kendoNotification(d.extend({appendTo:a,autoHideAfter:3E4,button:!0},b)).getKendoNotification(),c.showNotification=function(a,b){var c=this;if(c)try{if("string"===typeof a&&""!==a?c.show(a,b||"info"):Array.isArray(a)&&d.each(a,function(a,d){""!==d&&c.show(d,b||"info")}),c.options&&c.options.appendTo){var e=d(c.options.appendTo);e.length&&e.scrollTop(e[0].scrollHeight)}}catch(k){console.log(k)}});
return c},responseHasInfo:function(a){var b=!1,c=null;d.each((a||{})._errors||[],function(a,d){c=d._errorType||"";if("INFORMATION"===c||"SUCCESS"===c)b=!0});return b},responseHasErrors:function(a){var b=!1,c=null;d.each((a||{})._errors||[],function(a,d){c=d._errorType||"";if("ERROR"===c||"FATAL"===c||"TRACE"===c)b=!0});return b}})})(window.jQuery,window.kendo);
(function(d){if(d&&window.spark){var f={},a=[];String.prototype.startsWith||(String.prototype.startsWith=function(a,c){c=c||0;return this.indexOf(a,c)===c});window.spark.strings={trackTranslations:!1,addTranslatedStrings:function(a){"object"===typeof a&&(f=d.extend(f,a))},getTranslatedString:function(a){window.spark.strings.trackTranslation(a);return f&&f[a]?f[a]:a},trackTranslation:function(b){window.spark.strings.trackTranslations&&b&&""!==b&&-1===a.indexOf(b)&&a.push(b);return a}}}})(window.jQuery); //# sourceMappingURL=spark.min.map